<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>We Love Sailboats Registration</title> 
    <style>
    body {
      font-family: Arial;
    }
      #comments {
        width: 500px;
        height: 100px;
        resize: none;
      }

      #error {
        color: red;
      }
      #savedReview{
        border: 1px solid black; 
        padding: 10px; 
        width: 100%; 
        margin: 10px; 
        border-radius: 10px; 
      }
    </style>
    <script>
      // Array created to hold the submitted reviews
      var reviewArray = [
        ["Sandra.Tucker@gmtestmail.com","19/01/2021","Cannot recommend highly enough. Fantastic service, fantastic sailboat, fantastic holiday"],
        ["Alice.Arnold@gmtestmail.com","23/02/2021","This was our third year of using We Love Sailboats.  Will be using again next year but it was not quite as good as last year. The locations were better last year"],
        ["Amy.Nichols@gmtestmail.com","03/03/2021","Loved the sailboat.  Will hire the same one and the same captain next year.  Would recommend"],
        ["Beverly.Kelly@samapple.com","06/04/2021","Did not enjoy. The boat was not big enough for us. That is the only complaint though as the locations were fab."],
        ["Isayas.Beyene@gmpost.com","15/04/2021","Will use again."],
        ["","",""]
      ] 

      function addReview(){
       var emailAddress = document.getElementById("emailAddress").value

       // Add your code to store the form comments in the reviewComments variable
      var reviewText = document.getElementById("comments").value;        


       /* Add your code to:
            Check that an email address has been input
            Check that comments have been input
            Display a suitable error message in the 'error' paragraph */
       if (emailAddress === "") {
        // if the string is empty 
        document.getElementById("error").innerHTML = "Email address must not be empty"; 
       } else if (reviewText === "" ) { // if the review text is empty
        document.getElementById("error").innerHTML = "Review Text must not be empty";
       } else {
          // Today's date generated
          var today = new Date()

           // Current month generated
          var month = today.getMonth() + 1

          // Date formatted
          var dateToStore = today.getDate() +"/"+ month +"/"+today.getFullYear()

          /* Add your code to:
                 Add the email address, formatted date and review comments to the array
                 Hide the form
                 Calculate the total number of reviews in the array.
                 Display (in the saved review paragraph) the total number of reviews and the saved review.
          */
          reviewArray.push([emailAddress, dateToStore, reviewText]); // adds the new record to array
          document.getElementsByTagName("form")[0].style.display="None"; // hides the form after submission
          document.getElementById("savedReview").style.display = "block";  // shows the block that shows the saved review
          document.getElementById("total-reviews").innerHTML += reviewArray.length;  // append the total review value to current text
          document.getElementById("rev-email").innerHTML += emailAddress; // append the email address to current value
          document.getElementById("rev-date").innerHTML += dateToStore; // prints the date posted
          document.getElementById("rev-comm").innerHTML += reviewText; // prints the saved review comment
        } 
      }
    </script>
  </head>
  <body>
    <h2>Review details</h2>
    <form id="reviewDetails">
      <p><label for="emailAddress">Email *:</label>
      <input type="text" id="emailAddress"></p>
      <p><label for="comments">Review *:</label></p>
      <p><textarea id="comments"></textarea></p>
      <p id="error" ></p>
      <p><input type="button" onclick="addReview()" value="Submit"></p>
    </form>
    <div id="savedReview" style="display: none;">
      <h3>Review details</h3>
      <p id="total-reviews">Total reviews: </p>
      <p id="rev-email">Email address: </p>
      <p id="rev-date">Date: </p>
      <p id="rev-comm">Review comments: </p>
    </div>
  </body>
</html>